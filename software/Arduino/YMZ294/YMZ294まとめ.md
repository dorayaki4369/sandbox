# YMZ298まとめ

## レジスタへの書き込み
音源ICの機能は全てレジスタにアクセスすることで制御できます。  
WRCS_PINがLOWの状態でDATA_PINにバイトデータをセットし、WRCS_PINをHIGHにするとバイトデータがYMZ294に送られます。このときA0_PINがLOWの場合はレジスタのアドレス、A0_PINがHIGHの場合はレジスタに入れる値となります。  
つまり、値を書き込みたい場合はA0をLにしてアドレスを指定したあと、A0をHにしてデータを書き込む作業を繰り返します。


## 制御レジスタ概要
### 1.レジスタまとめ
|レジスタアドレス|D7|D6|D5|D4|D3|D2|D1|D0|説明|
|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|
|#00|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|チャンネルA(上位)|
|#01|---|---|---|---|TP11|TP10|TP9|TP8|チャンネルA(下位)|
|#02|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|チャンネルB(上位)|
|#03|---|---|---|---|TP11|TP10|TP9|TP8|チャンネルB(下位)|
|#04|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|チャンネルC(上位)|
|#05|---|---|---|---|TP11|TP10|TP9|TP8|チャンネルC(下位)|
|#06|---|---|---|NP4|NP3|NP2|NP1|NP0|ノイズ|
|#07|---|---|C|B|A|C|B|A|ミキサー|
### 2.楽曲周波数の設定  
レジスタは8ビット構成なので、上位4ビットと下位8ビットに分けて格納します。

|チャンネル|レジスタ|D7|D6|D5|D4|D3|D2|D1|D0|
|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|
|A|#00|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|
|A|#01|||||TP11|TP10|TP9|TP8|
|B|#02|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|
|B|#03|||||TP11|TP10|TP9|TP8|
|C|#04|TP7|TP6|TP5|TP4|TP3|TP2|TP1|TP0|
|C|#05|||||TP11|TP10|TP9|TP8|

